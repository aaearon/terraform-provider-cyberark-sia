---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "cyberarksia_certificate Resource - cyberarksia"
subcategory: ""
description: |-
  Manages a TLS/SSL certificate in CyberArk Secure Infrastructure Access. Certificates are used by database workspaces for TLS-validated connections.
---

# cyberarksia_certificate (Resource)

Manages a TLS/SSL certificate in CyberArk Secure Infrastructure Access. Certificates are used by database workspaces for TLS-validated connections.



<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `cert_body` (String) PEM encoded certificate content. Must be a valid X.509 certificate without private key material (public certificate only). Maximum size: 4 KB. CRITICAL: This attribute must persist in state as it's required for all update operations. The API may normalize whitespace/line endings, so state will reflect server-side format.
- `cert_description` (String) Human-readable description of the certificate's purpose.
- `cert_name` (String) Certificate name. Must be unique within the SIA tenant if provided. If not provided, SIA may auto-generate a name.
- `cert_type` (String) Certificate format. Only 'PEM' is supported by SIA. Defaults to 'PEM' if not specified.
- `domain_name` (String) Logical domain to which the certificate is assigned. Used for organizational grouping of certificates.
- `labels` (Map of String) Key-value pairs for categorization and filtering. Maximum 10 labels supported.

### Read-Only

- `certificate_id` (String) Unique certificate identifier. Automatically generated by SIA upon certificate creation.
- `expiration_date` (String) Certificate expiration date in ISO 8601 format.
- `id` (String) Unique certificate identifier (alias for certificate_id). Automatically generated by SIA upon certificate creation.
- `metadata` (Attributes) Certificate metadata extracted from the X.509 structure by SIA. (see [below for nested schema](#nestedatt--metadata))
- `tenant_id` (String) Internal tenant identifier. Read-only.

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Read-Only:

- `issuer` (String) Certificate issuer Distinguished Name (DN).
- `serial_number` (String) Certificate serial number in decimal format.
- `subject` (String) Certificate subject Distinguished Name (DN).
- `subject_alternative_name` (List of String) Subject Alternative Names (SANs). Empty array if none present.
- `valid_from` (String) Certificate validity start time (Unix timestamp as string).
- `valid_to` (String) Certificate validity end time (Unix timestamp as string).

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
#!/bin/bash
# Import existing certificate from CyberArk SIA
#
# Prerequisites:
#   - Certificate exists in SIA (created via UI or API)
#   - Know the certificate ID (numeric string, e.g., "1761251731882561")
#
# Usage:
#   ./import.sh <certificate_id>
#
# Example:
#   ./import.sh 1761251731882561
#
# After Import:
#   1. Certificate appears in terraform state
#   2. All fields populated (including cert_body from API)
#   3. You MUST add cert_body to your Terraform config for subsequent updates to work
#      - API requires cert_body for ALL update operations (even metadata-only changes)
#      - Without cert_body in config, next `terraform apply` will fail
#
# Finding Certificate ID:
#   - SIA UI: Navigate to Certificates page, copy ID from URL or table
#   - API: GET /api/certificates (lists all certificates with IDs)

if [ -z "$1" ]; then
  echo "Usage: $0 <certificate_id>"
  echo "Example: $0 1761251731882561"
  exit 1
fi

CERTIFICATE_ID=$1

# Import certificate into Terraform state
terraform import cyberark_sia_certificate.imported "$CERTIFICATE_ID"

echo ""
echo "Certificate imported successfully!"
echo ""
echo "IMPORTANT: Add certificate configuration to your Terraform files:"
echo ""
echo "resource \"cyberark_sia_certificate\" \"imported\" {"
echo "  cert_name        = \"<certificate-name-from-state>\""
echo "  cert_body        = file(\"path/to/certificate.pem\")  # REQUIRED for updates"
echo "  cert_description = \"<description-from-state>\""
echo "  domain_name      = \"<domain-from-state>\""
echo "  labels = {"
echo "    environment = \"production\""
echo "  }"
echo "}"
echo ""
echo "Run 'terraform state show cyberark_sia_certificate.imported' to see current values"
```
